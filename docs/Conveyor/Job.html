<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Crystal Docs 1.10.1">
<meta name="crystal_docs.project_version" content="main-dev">
<meta name="crystal_docs.project_name" content="conveyor">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="conveyor">
  <title>Conveyor::Job - conveyor main-dev</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill="currentColor" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<input type="checkbox" id="sidebar-btn">
<label for="sidebar-btn" id="sidebar-btn-label">
  <svg class="open" xmlns="http://www.w3.org/2000/svg" height="2em" width="2em" viewBox="0 0 512 512"><title>Open Sidebar</title><path fill="currentColor" d="M80 96v64h352V96H80zm0 112v64h352v-64H80zm0 112v64h352v-64H80z"></path></svg>
  <svg class="close" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 512 512"><title>Close Sidebar</title><path fill="currentColor" d="m118.6 73.4-45.2 45.2L210.7 256 73.4 393.4l45.2 45.2L256 301.3l137.4 137.3 45.2-45.2L301.3 256l137.3-137.4-45.2-45.2L256 210.7Z"></path></svg>
</label>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          conveyor
        </a>
      </h1>

      <span class="project-version">
        main-dev
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="conveyor/Conveyor" data-name="conveyor">
      <a href="../Conveyor.html">Conveyor</a>
      
        <ul>
  
  <li class="parent " data-id="conveyor/Conveyor/Belt" data-name="conveyor::belt">
      <a href="../Conveyor/Belt.html">Belt</a>
      
        <ul>
  
  <li class=" " data-id="conveyor/Conveyor/Belt/State" data-name="conveyor::belt::state">
      <a href="../Conveyor/Belt/State.html">State</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/Configuration" data-name="conveyor::configuration">
      <a href="../Conveyor/Configuration.html">Configuration</a>
      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/Exception" data-name="conveyor::exception">
      <a href="../Conveyor/Exception.html">Exception</a>
      
    </li>
  
  <li class="parent open current" data-id="conveyor/Conveyor/Job" data-name="conveyor::job">
      <a href="../Conveyor/Job.html">Job</a>
      
        <ul>
  
  <li class=" " data-id="conveyor/Conveyor/Job/Bogus" data-name="conveyor::job::bogus">
      <a href="../Conveyor/Job/Bogus.html">Bogus</a>
      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/Job/Bogus2" data-name="conveyor::job::bogus2">
      <a href="../Conveyor/Job/Bogus2.html">Bogus2</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/JobData" data-name="conveyor::jobdata">
      <a href="../Conveyor/JobData.html">JobData</a>
      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/NoBelts" data-name="conveyor::nobelts">
      <a href="../Conveyor/NoBelts.html">NoBelts</a>
      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/Orchestrator" data-name="conveyor::orchestrator">
      <a href="../Conveyor/Orchestrator.html">Orchestrator</a>
      
    </li>
  
  <li class="parent " data-id="conveyor/Conveyor/Scheduler" data-name="conveyor::scheduler">
      <a href="../Conveyor/Scheduler.html">Scheduler</a>
      
        <ul>
  
  <li class=" " data-id="conveyor/Conveyor/Scheduler/ScheduledJob" data-name="conveyor::scheduler::scheduledjob">
      <a href="../Conveyor/Scheduler/ScheduledJob.html">ScheduledJob</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/UnknownJobType" data-name="conveyor::unknownjobtype">
      <a href="../Conveyor/UnknownJobType.html">UnknownJobType</a>
      
    </li>
  
  <li class="parent " data-id="conveyor/Conveyor/Web" data-name="conveyor::web">
      <a href="../Conveyor/Web.html">Web</a>
      
        <ul>
  
  <li class=" " data-id="conveyor/Conveyor/Web/Component" data-name="conveyor::web::component">
      <a href="../Conveyor/Web/Component.html">Component</a>
      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/Web/Form" data-name="conveyor::web::form(t)">
      <a href="../Conveyor/Web/Form.html">Form</a>
      
    </li>
  
  <li class=" " data-id="conveyor/Conveyor/Web/JobsTable" data-name="conveyor::web::jobstable(t)">
      <a href="../Conveyor/Web/JobsTable.html">JobsTable</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">abstract struct</span> Conveyor::<wbr>Job

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Conveyor/Job.html">Conveyor::Job</a></li><li class="superclass">Struct</li><li class="superclass">Value</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>The <code><a href="../Conveyor/Job.html">Job</a></code> is the unit of work in Conveyor. A representation of it is stored
in Redis along with some metadata, and when it is time to execute that job,
it is deserialized and its <code><a href="../Conveyor/Job.html#call-instance-method">#call</a></code> method is invoked.</p>
<p>Jobs are enqueued to be executed ASAP with the <code><a href="../Conveyor/Job.html#enqueue%28%2A%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method">#enqueue</a></code> method or scheduled
with the <code><a href="../Conveyor/Job.html#schedule%28indelay%3ATime%3A%3ASpan%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method">#schedule</a></code> method. Enqueuing a job runs it as soon as there is an
available <code><a href="../Conveyor/Belt.html">Conveyor::Belt</a></code>.</p>
<p>Defining a job is a matter of defining a struct that inherits from
<code><a href="../Conveyor/Job.html">Conveyor::Job</a></code> (either directly or indirectly) and overriding the <code><a href="../Conveyor/Job.html#call-instance-method">#call</a></code>
method to perform its work. The <code><a href="../Conveyor/Job.html#call-instance-method">#call</a></code> method is used as the calling
convention used by <code>Proc</code> instances.</p>





  <h2>
    <a id="included-modules" class="anchor" href="#included-modules">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Included Modules
  </h2>
  <ul class="other-types-list">
    
      <li class="other-type">JSON::Serializable</li>
    
  </ul>





  <h2>
    <a id="direct-known-subclasses" class="anchor" href="#direct-known-subclasses">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Direct Known Subclasses
  </h2>
  <ul class="other-types-list">
    
      <li class="other-type"><a href="../Conveyor/Job/Bogus.html">Conveyor::Job::Bogus</a></li>
    
      <li class="other-type"><a href="../Conveyor/Job/Bogus2.html">Conveyor::Job::Bogus2</a></li>
    
  </ul>






  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L18" target="_blank">
        job.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28pull%3AJSON%3A%3APullParser%29-class-method" class="signature"><strong>.new</strong>(pull : JSON::PullParser)</a>
        
      </li>
    
  </ul>



  <h2>
    <a id="class-method-summary" class="anchor" href="#class-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#dequeue%28id%3AString%2C%2A%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3ANil-class-method" class="signature"><strong>.dequeue</strong>(id : String, *, configuration config : Configuration = <span class="t">CONFIG</span>) : Nil</a>
        
          <div class="summary"><p>Remove this job from all queues.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#max_attempts%28max_attempts%3AInt32%29-class-method" class="signature"><strong>.max_attempts</strong>(max_attempts : Int32)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#max_attempts%3AInt32-class-method" class="signature"><strong>.max_attempts</strong> : Int32</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#unschedule%28id%3AString%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3ANil-class-method" class="signature"><strong>.unschedule</strong>(id : String, configuration config : Configuration = <span class="t">CONFIG</span>) : Nil</a>
        
          <div class="summary"><p>If this job was scheduled via one of the <code><a href="../Conveyor/Job.html#schedule%28indelay%3ATime%3A%3ASpan%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method">#schedule</a></code> methods, this method will remove it from the schedule.</p></div>
        
      </li>
    
  </ul>



  <h2>
    <a id="macro-summary" class="anchor" href="#macro-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Macro Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#queue%28name%29-macro" class="signature"><strong>queue</strong>(name)</a>
        
          <div class="summary"><p>Define the queue your job will enqueue on by default</p></div>
        
      </li>
    
  </ul>



  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#call-instance-method" class="signature"><strong>#call</strong></a>
        
          <div class="summary"><p>Override this method to provide this job's functionality.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#enqueue%28%2A%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method" class="signature"><strong>#enqueue</strong>(*, queue : String = <span class="k">self</span>.queue, configuration config : Configuration = <span class="t">CONFIG</span>) : String</a>
        
          <div class="summary"><p>Enqueues this job in the specified queue, or to the job's default queue if the queue isn't provided explicitly, to be executed immediately.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#schedule%28indelay%3ATime%3A%3ASpan%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method" class="signature"><strong>#schedule</strong>(in delay : Time::Span, queue : String = <span class="k">self</span>.queue, configuration config : Configuration = <span class="t">CONFIG</span>) : String</a>
        
          <div class="summary"><p>Enqueues this job in the specified queue, or to the job's default queue if the queue isn't provided, to be executed after the given amount of time.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#schedule%28attime%3ATime%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method" class="signature"><strong>#schedule</strong>(at time : Time, queue : String = <span class="k">self</span>.queue, configuration config : Configuration = <span class="t">CONFIG</span>) : String</a>
        
          <div class="summary"><p>Enqueues this job in the specified queue, or to the job's default queue if the queue isn't provided explicitly, to be executed at the specified time.</p></div>
        
      </li>
    
  </ul>



<div class="methods-inherited">
  
    


    


    


    


  
    


    


    


    


  
    


    


    


    


  
    


    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(pull:JSON::PullParser)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(pull : JSON::PullParser)

        <a class="method-permalink" href="#new%28pull%3AJSON%3A%3APullParser%29-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L19" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="class-method-detail" class="anchor" href="#class-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Class Method Detail
  </h2>
  
    <div class="entry-detail" id="dequeue(id:String,*,configurationconfig:Configuration=CONFIG):Nil-class-method">
      <div class="signature">
        
        def self.<strong>dequeue</strong>(id : String, *, configuration config : <a href="../Conveyor/Configuration.html">Configuration</a> = <span class="t">CONFIG</span>) : Nil

        <a class="method-permalink" href="#dequeue%28id%3AString%2C%2A%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3ANil-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Remove this job from all queues. This method will not unschedule the job.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L141" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="max_attempts(max_attempts:Int32)-class-method">
      <div class="signature">
        
        def self.<strong>max_attempts</strong>(max_attempts : Int32)

        <a class="method-permalink" href="#max_attempts%28max_attempts%3AInt32%29-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L186" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="max_attempts:Int32-class-method">
      <div class="signature">
        
        def self.<strong>max_attempts</strong> : Int32

        <a class="method-permalink" href="#max_attempts%3AInt32-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L184" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="unschedule(id:String,configurationconfig:Configuration=CONFIG):Nil-class-method">
      <div class="signature">
        
        def self.<strong>unschedule</strong>(id : String, configuration config : <a href="../Conveyor/Configuration.html">Configuration</a> = <span class="t">CONFIG</span>) : Nil

        <a class="method-permalink" href="#unschedule%28id%3AString%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3ANil-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>If this job was scheduled via one of the <code><a href="../Conveyor/Job.html#schedule%28indelay%3ATime%3A%3ASpan%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method">#schedule</a></code> methods, this method will remove it from the schedule.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L149" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="macro-detail" class="anchor" href="#macro-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Macro Detail
  </h2>
  
    <div class="entry-detail" id="queue(name)-macro">
      <div class="signature">
        
        macro <strong>queue</strong>(name)

        <a class="method-permalink" href="#queue%28name%29-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>Define the queue your job will enqueue on by default</p>
<pre><code class="language-crystal"><span class="k">struct</span> <span class="t">SendEmail</span> <span class="o">&lt;</span> <span class="t">Conveyor</span><span class="t">::</span><span class="t">Job</span>
  <span class="c"># Emails get their own queue</span>
  queue <span class="s">&quot;email&quot;</span>

  <span class="k">def</span> <span class="m">initialize</span>(@email_address : <span class="t">String</span>, @body : <span class="t">String</span>)
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">call</span>
    <span class="c"># ...</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L178" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="call-instance-method">
      <div class="signature">
        abstract 
        def <strong>call</strong>

        <a class="method-permalink" href="#call-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Override this method to provide this job's functionality.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L28" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="enqueue(*,queue:String=self.queue,configurationconfig:Configuration=CONFIG):String-instance-method">
      <div class="signature">
        
        def <strong>enqueue</strong>(*, queue : String = <span class="k">self</span>.queue, configuration config : <a href="../Conveyor/Configuration.html">Configuration</a> = <span class="t">CONFIG</span>) : String

        <a class="method-permalink" href="#enqueue%28%2A%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Enqueues this job in the specified queue, or to the job's default queue if
the queue isn't provided explicitly, to be executed immediately. You can
also pass a <code><a href="../Conveyor/Configuration.html">Configuration</a></code> instance to use different settings.</p>
<pre><code class="language-crystal"><span class="k">struct</span> <span class="t">MyJob</span> <span class="o">&lt;</span> <span class="t">Conveyor</span><span class="t">::</span><span class="t">Job</span>
  <span class="k">def</span> <span class="m">initialize</span>(@arg : <span class="t">String</span>)
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">call</span>
    <span class="c"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">MyJob</span>.new(<span class="s">&quot;asdf&quot;</span>).enqueue</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L125" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="schedule(indelay:Time::Span,queue:String=self.queue,configurationconfig:Configuration=CONFIG):String-instance-method">
      <div class="signature">
        
        def <strong>schedule</strong>(in delay : Time::Span, queue : String = <span class="k">self</span>.queue, configuration config : <a href="../Conveyor/Configuration.html">Configuration</a> = <span class="t">CONFIG</span>) : String

        <a class="method-permalink" href="#schedule%28indelay%3ATime%3A%3ASpan%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Enqueues this job in the specified queue, or to the job's default queue if
the queue isn't provided, to be executed after the given amount of time.
You can also pass a <code><a href="../Conveyor/Configuration.html">Configuration</a></code> instance to use different settings.</p>
<pre><code class="language-crystal"><span class="k">struct</span> <span class="t">MyJob</span> <span class="o">&lt;</span> <span class="t">Conveyor</span><span class="t">::</span><span class="t">Job</span>
  <span class="k">def</span> <span class="m">initialize</span>(@arg : <span class="t">String</span>)
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">call</span>
    <span class="c"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">MyJob</span>.new(<span class="s">&quot;asdf&quot;</span>).enqueue <span class="k">in</span>: <span class="n">1</span>.minute</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L71" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="schedule(attime:Time,queue:String=self.queue,configurationconfig:Configuration=CONFIG):String-instance-method">
      <div class="signature">
        
        def <strong>schedule</strong>(at time : Time, queue : String = <span class="k">self</span>.queue, configuration config : <a href="../Conveyor/Configuration.html">Configuration</a> = <span class="t">CONFIG</span>) : String

        <a class="method-permalink" href="#schedule%28attime%3ATime%2Cqueue%3AString%3Dself.queue%2Cconfigurationconfig%3AConfiguration%3DCONFIG%29%3AString-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Enqueues this job in the specified queue, or to the job's default queue if
the queue isn't provided explicitly, to be executed at the specified
time. You can also pass a <code><a href="../Conveyor/Configuration.html">Configuration</a></code> instance to use different
settings.</p>
<pre><code class="language-crystal"><span class="k">struct</span> <span class="t">MyJob</span> <span class="o">&lt;</span> <span class="t">Conveyor</span><span class="t">::</span><span class="t">Job</span>
  <span class="k">def</span> <span class="m">initialize</span>(@arg : <span class="t">String</span>)
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">call</span>
    <span class="c"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">MyJob</span>.new(<span class="s">&quot;asdf&quot;</span>).enqueue at: timestamp</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/jgaskins/conveyor/blob/main/src/job.cr#L92" target="_blank">View source</a>]
        
      </div>
    </div>
  


</div>

</body>
</html>
